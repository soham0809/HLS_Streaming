\<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>HLS Player with Quality Selection</title>

    <!-- Video.js CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/video.js@7.21.1/dist/video-js.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        background: #000;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      #my-video {
        width: 960px;
        height: 540px;
      }
    </style>
  </head>
  <body>
    <video
      id="my-video"
      class="video-js vjs-default-skin"
      controls
      preload="auto"
      playsinline
    ></video>

    <!-- Video.js -->
    <script src="https://cdn.jsdelivr.net/npm/video.js@7.21.1/dist/video.min.js"></script>

    <!-- http-source-selector plugin -->
    <script src="https://cdn.jsdelivr.net/npm/videojs-http-source-selector@1.1.6/dist/videojs-http-source-selector.min.js"></script>

    <script>
      const player = videojs("my-video", {
        html5: {
          vhs: {
            overrideNative: true,
          },
        },
        controls: true,
        autoplay: false,
        preload: "auto",
      });

      // Register and initialize the plugin
      player.httpSourceSelector();

      player.ready(function () {
        player.src({
          src: "https://soham-streaming-setup.s3.ap-south-1.amazonaws.com/outputs/master.m3u8",
          type: "application/x-mpegURL",
        });

        // Activate quality selector UI
        player.httpSourceSelector({
          default: "auto",
        });
      });
    </script>
  </body>
</html>
